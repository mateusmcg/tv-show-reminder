<div class="header" ng-controller="HeaderCtrl as vm">
    <div class="row">
        <div class="col-xs-3 col-sm-3 col-md-2 col-lg-2 text-right vertical-align-fix-menu">
            <div class="row">
                <div class="col-xs-3 col-sm-3 col-md-4 col-lg-4 text-right">
                    <img src="./assets/img/television.png" alt="Tv Show Record :)" class="header-img" />
                </div>
                <div class="col-xs-9 col-sm-9 col-md-8 col-lg-8 text-right">
                    <button class="btn btn-default btn-padding-fix" ng-click="vm.goBack()">
                        <i class="fa fa-arrow-left fa-lg"></i>
                    </button>
                    <button class="btn btn-default btn-padding-fix" ng-click="vm.goForward()">
                        <i class="fa fa-arrow-right fa-lg"></i>
                    </button>
                    <button class="btn btn-default btn-padding-fix" ng-click="vm.refresh()" uib-tooltip="Refresh" tooltip-placement="bottom" tooltip-class="tooltop-style">
                        <i class="fa fa-refresh fa-lg"></i>
                    </button>
                </div>
            </div>
        </div>
        <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 vertical-align-fix-search"> 
            <div class="form-group has-feedback">
               <input type="text" class="form-control rounded"
                    placeholder="Search" title="Looking for something?" id="searchTxt"
                    ng-model="vm.searchQuery"
                    uib-typeahead="result as result.name for result in vm.getResults($viewValue)"
                    typeahead-popup-template-url="customPopupTemplate.html"
                    typeahead-loading="vm.loadingSearch" typeahead-no-results="vm.noResults"
                    typeahead-on-select="vm.selectItem()"
                    typeahead-min-length="2"
                    typeahead-wait-ms="100"
                    typeahead-focus-first="true"/>
               <span ng-show="vm.loadingSearch" class="glyphicon glyphicon-refresh glyphicon-refresh-animate form-control-feedback" style="color: black; font-size: 20px"></span>
               <span id="clearSearchIcon" ng-click="vm.clearSearch()" ng-show="!vm.loadingSearch && vm.searchQuery" class="glyphicon glyphicon-remove form-control-feedback" style="color: black; font-size: 20px; pointer-events: auto; cursor: pointer;"></span>
            </div>
        </div>
        <div class="col-xs-3 col-sm-3 col-md-5 col-lg-5 vertical-align-fix-menu">
            <div class="row">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-left">
                    <button ng-click="vm.redirect('/myshows')" href="#myshows" class="btn btn-default btn-padding-menu-fix" uib-tooltip="My Shows" tooltip-placement="bottom" tooltip-class="hide-tooltip tooltop-style">
                        <i class="fa fa-television fa-lg"></i><span class="hide-text">&nbsp; MyShows</span>
                    </button>
                    <button class="btn btn-default btn-padding-menu-fix" uib-tooltip="My Movies" tooltip-placement="bottom" tooltip-class="hide-tooltip tooltop-style">
                        <i class="fa fa-film fa-lg"></i><span class="hide-text">&nbsp; MyMovies</span>
                    </button>
                    <button class="btn btn-default btn-padding-menu-fix" uib-tooltip="My People" tooltip-placement="bottom" tooltip-class="hide-tooltip tooltop-style">
                        <i class="fa fa-users fa-lg"></i><span class="hide-text">&nbsp; MyPeople</span>
                    </button>
                    <button class="btn btn-default btn-padding-menu-fix" uib-tooltip="Settings" tooltip-placement="bottom" tooltip-class="tooltop-style">
                        <i class="fa fa-cog fa-lg"></i>
                    </button>
                </div>
            </div>
        </div>
        <div class="col-xs-3 col-sm-3 col-md-2 col-lg-2 fix-margin text-right vertical-align-fix-menu">
            <button id="btnMinimize" type="button" ng-click="vm.minimize()" class="btn btn-default"><i class="fa fa-minus fa-lg" aria-hidden="true"></i></button>
            <button id="btnMaximize" type="button" ng-click="vm.handleMaximize()" class="btn btn-default" aria-hidden="true"><span ng-class="{'glyphicon glyphicon-resize-full' : vm.isMaximized == false , 'glyphicon glyphicon-resize-small': vm.isMaximized == true}" aria-hidden="true"></span></button>
            <button id="btnClose" type="button" ng-click="vm.close()" class="btn btn-default"><i class="fa fa-times fa-lg" aria-hidden="true"></i></button>
        </div>
    </div>
</div>

<script type="text/ng-template" id="customPopupTemplate.html">
  <div class="custom-popup-wrapper"
     ng-style="{top: position().top+'px', left: position().left+'px'}"
     style="display: block;"
     ng-show="isOpen() && !moveInProgress"
     aria-hidden="{{!isOpen()}}">
     
    <p ng-if="matches.length == 0">No results found :(</p>

    <ul class="dropdown-menu" role="listbox">
        <li ng-repeat="match in matches" ng-class="{active: isActive($index) }"
            ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">
            <div class="typeahead-group-header" ng-if="match.model.firstInGroup">{{match.model.group}}</div>
            <a>
                <img ng-if="match.model.img" ng-src="{{match.model.img}}" width="75" height="75" class="rounded">
                <img ng-if="!match.model.img && match.model.group === 'People'" ng-src="./assets/img/person-not-found.png" width="75" height="75" class="rounded">
                <img ng-if="!match.model.img && match.model.group === 'Movies'" ng-src="./assets/img/img_not_found.gif" width="75" height="75" class="rounded">
                <img ng-if="!match.model.img && match.model.group === 'Shows'" ng-src="./assets/img/img_not_found.gif" width="75" height="75" class="rounded">
                <span ng-bind-html="match.label | uibTypeaheadHighlight:query"></span>
            </a>
        </li>
    </ul>
  </div>
</script>